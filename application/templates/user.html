{% extends 'base.html' %}

{% block styles %}
{{ super() }}
{% endblock %}

{% block title %} User Form {% endblock %}

{% block content %}
    <div class="container">
        {% block page_content %}
        <h1>User Form</h1>
        <p>{% if user %}Edit{% else %}Add{% endif %} details of a user</p>

        {% if user is not none %}
       <form method="POST" action="{{ url_for('user.edit_user', user_id=user.user_id) if user else url_for('user.add_user') }}">
          {{ form.hidden_tag() }}

          <p>
            {{ form.username.label }}<br>
            {{ form.username(size=30) }}
            {% for error in form.username.errors %}
              <span class="error">{{ error }}</span>
            {% endfor %}
          </p>

          <p>
            {{ form.email.label }}<br>
            {{ form.email() }}
            {% for error in form.email.errors %}
              <span class="error">{{ error }}</span>
            {% endfor %}
          </p>

          <p>
            {{ form.first_name.label }}<br>
            {{ form.first_name() }}
            {% for error in form.first_name.errors %}
              <span class="error">{{ error }}</span>
            {% endfor %}
          </p>
            <p>
            {{ form.last_name.label }}<br>
            {{ form.last_name() }}
            {% for error in form.last_name.errors %}
              <span class="error">{{ error }}</span>
            {% endfor %}
          </p>

          <p>
            {{ form.submit() }}
          </p>
        </form>
        {% else %}
            <p>No user found</p>
        {% endif %}

{% endblock %}
{% endblock %}
